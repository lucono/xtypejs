!function(n,U){"use strict";var D="xtype",F="0.7.1",I="[|, ]",L="default",P=/^\[object\s(.*)\]$/,T=250,z=[],e=[].constructor||e,B=e.isArray,H=(e.prototype.push,e.prototype.slice),V={}.constructor||V,t=V.create,$=V.keys,q=V.prototype.toString,G=function(){return t(null)},J=0,K=8,M=16,Q=32,W=64,X=128,Y=256,Z=512,nn=1024,en=2048,tn=4096,rn=8192,on=16384,un=32768,fn=65536,cn=1<<17,an=1<<18,sn=1<<19,ln=1<<20,pn=1<<21,r=1<<22,yn=K|M,mn=Q|W|X|Y,gn=nn|en|tn|rn|on|un|Z,bn=fn|cn|an,hn=sn|ln|pn,_n=en|on,vn=nn|rn|Z,dn=tn|un,jn=vn|_n,o=nn|en|tn,i=rn|on|un,xn=130023431|K|M|Q|W|X|Y|Z|nn|en|tn|rn|on|un|fn|cn|an|sn|ln|pn,En=yn|mn|gn|bn|hn,wn={null:1,undefined:2,nan:4,boolean:yn,true:K,false:M,string:mn,empty_string:Q,whitespace:W,single_char_string:X,multi_char_string:Y,blank_string:Q|W,non_empty_string:W|X|Y,non_blank_string:X|Y,number:gn,zero:Z,positive_integer:nn,positive_float:en,positive_infinity:tn,negative_integer:rn,negative_float:on,negative_infinity:un,integer:vn,float:_n,infinite_number:dn,positive_number:o,negative_number:i,non_infinite_number:jn,non_positive_number:i|Z,non_negative_number:o|Z,non_zero_number:o|i,array:bn,empty_array:fn,single_elem_array:cn,multi_elem_array:an,non_empty_array:cn|an,object:hn,empty_object:sn,single_prop_object:ln,multi_prop_object:pn,non_empty_object:ln|pn,symbol:r,date:1<<24,error:1<<25,regexp:1<<26,function:1<<23,nothing:3,primitive:mn|gn|yn|r,any:xn,none:J},Nn="null",Cn="nan";var u,f=function n(){var f,c,i=[],u=G(),t=!1,a=G(),s=0,l=G(),p=G(),y=G(),m=G(),r=G(),o=G(),e=G();function g(n){var e="object"==typeof n||"function"==typeof n?r[q.call(n)]||q.call(n).match(P)[1].toLowerCase():typeof n;return"number"===e&&isNaN(n)&&(e=Cn),t&&m[e]||e}function b(n){var e=null===n?Nn:"object"==typeof n||"function"==typeof n?r[q.call(n)]||"object":typeof n;return"number"===e&&isNaN(n)&&(e=Cn),t&&m[e]||e}function h(n,e){var t="number"==typeof e?xn&e:"string"==typeof e&&a[e]!==U?a[e]:function(n,e){var t;"string"==typeof n?n=(t=n).split(c):B(n)||(n=[n]);for(var r,o,i=0,u=0,f=n.length;u<f;u++)if(r=n[u],"number"==typeof(o="string"==typeof r?p[r]||0:"object"==typeof r?null!==r&&"function"==typeof r.validator?r:0:r||0))i|=xn&o;else{if("function"==typeof o&&e instanceof o)return o;if("object"==typeof o&&!0===o.validator(e))return o}return i&&t&&s<=T&&(a[t]=i,s++),i}(e,n);return"function"==typeof t||"object"==typeof t||!!d(n,t)}function _(n,e){var t,r=(e="string"==typeof e?e.split(c):B(e)?e:[e]).length;for(t=0;t<r;t++)if(h(n,e[t]))return e[t];return y[J]}function v(n){return y[d(n)]}function d(n,e){var t=p[b(n)]||J;if(0==(t&En))return t&(e!==U?xn&e:xn);var r,o,i,u,f=e!==U?En&e:En;if(0===f)return 0;switch(t){case mn:return(r=n.length)&&(o=n.trim().length),Q&f&&0===r?Q:W&f&&0<r&&0===o?W:Y&f&&1<o?Y:X&f&&1===o?X:0;case gn:return Z&f&&0==n?Z:jn&f&&isFinite(n)?vn&f&&n%1==0?nn&f&&0<n?nn:rn&f&&n<0?rn:0:_n&f&&n%1!=0?en&f&&0<n?en:on&f&&n<0?on:0:0:dn&f&&!isFinite(n)?tn&f&&0<n?tn:un&f&&n<0?un:0:0;case yn:return K&f&&1==n?K:M&f&&0==n?M:0;case bn:return i=n.length,fn&f&&0===i?fn:cn&f&&1===i?cn:an&f&&1<i?an:0;case hn:return u=$(n).length,sn&f&&0===u?sn:ln&f&&1===u?ln:pn&f&&1<u?pn:0}return 0}function j(){var r=G(),o=G(),i=G(),u=G();$(l).forEach(function(n){var e=l[n],t=f?f[n]:n;(t="string"==typeof t&&0<t.length?t:n)in u&&N('Type name conflict: "'+t+'" is aliased to "'+n+'" and "'+u[t]+'"'),"number"==typeof e&&(r[e]=t),o[t]=e,i[n]=t,u[t]=n}),y=r,p=o,m=i,t=!!f,E()}function x(e,n,t){e in l&&N("Cannot define type '"+e+"' - type already defined"),"number"==typeof(l[e]=n)&&V.defineProperty(t,e.toUpperCase(),{value:l[e],enumerable:!0,writable:!1,configurable:!1});var r="is"+e.toLowerCase().replace(/(^|_)(.)/g,function(n,e,t){return t.toUpperCase()}),o=function(n){return h(n,l[e]||e)};t[r]=o,t.not[r]=function(n){return!o(n)},t.any[r]=w(o,!1,!0,U,!0),t.all[r]=w(o,!1,U,!0,!1),t.some[r]=w(o,!1,!0,!0,!0),t.none[r]=w(o,!1,!0,U,!1)}function E(){a=G(),s=0}function w(i,u,f,c,a){return function(n,e){n=!u&&1<arguments.length?H.call(arguments):B(n)?n:[n];var t,r=!1,o=!1;for(t=0;t<n.length;t++)if(i(n[t],e)?r=!0:o=!0,!(f!==U&&r!==f||c!==U&&o!==c))return a;return!a}}function N(n){throw new Error(D+": "+n)}function C(n){"string"==typeof(n=null===n||n===U||""===n?I:n)&&(n="[ ]*"+n+"[ ]*",c&&n===c.source||(c=new RegExp(n,"g"),E()))}function S(){j()}e.registerNameScheme=function(n,e){if("string"==typeof n&&0!==n.trim().length&&"object"==typeof e){var t=n.trim(),r=u[t],o=G();return $(e).forEach(function(n){o[n]=e[n]}),u[t]=o,r}},o.setDelimiterPattern=C,o.setNameScheme=function(n){n===U||null===n||n===L?n=null:"string"==typeof n&&n in u&&(n=u[n]),null!==n&&"object"!=typeof n&&N('Unknown name scheme "'+n+'"'),f=n,S(),A(S)},o.set=function(r){"object"==typeof r&&$(r).forEach(function(n){var e,t=o["set"+(e=n,e.charAt(0).toUpperCase()+e.slice(1))];"function"==typeof t&&t(r[n])})};var O,k,A=function(){var e=[],t=!1,r=!1;function o(e){i.forEach(function(n){e.indexOf(n)<0&&n.call()})}return function(n){if(r=!0,n&&e.push(n),!t){for(t=!0;r;)r=!1,o(e);t=!(e=[])}}}();function R(n,t){var r=null,e={getTypeDefinitions:function(){return l},getNameSchemes:function(){return u},getActiveNameScheme:function(){return f},defineType:function(n,e){x(n,e,t)},refresh:function(){A(r)},setRefreshHandler:function(n){var e=i.indexOf(r||n);-1<e&&i.splice(e,1),"function"==typeof n&&(i.push(n),r=n)}};n.call(e,t)}return k=v,C(I),["Boolean","Number","String","Symbol","Function","Array","Date","RegExp","Object","Error"].forEach(function(n){r["[object "+n+"]"]=n.toLowerCase()}),(O=k).not=G(),O.any=G(),O.all=G(),O.some=G(),O.none=G(),O.not.is=function(n,e){return!h(n,e)},O.any.is=w(h,!0,!0,U,!0),O.all.is=w(h,!0,U,!0,!1),O.some.is=w(h,!0,!0,!0,!0),O.none.is=w(h,!0,!0,U,!1),$(wn).forEach(function(n){x(n,wn[n],k)}),j(),i.push(S),V.defineProperty(k,"VERSION",{value:/\s*{{[^}]*}}\s*/g.test(F)?"unspecified":F,enumerable:!0,writable:!1,configurable:!1}),k.type=b,k.typeOf=g,k.which=_,k.is=h,k.ext=e,k.options=o,k.newInstance=n,k.ext.registerExtension=function(n){var e,t;n=1<arguments.length?H.call(arguments):n,t=k,(B(e=n)?e:[e]).forEach(function(n){n&&"xtypejs"===n.type&&"function"==typeof n.init||N('Invalid extension - "type" property must be "xtypejs" and "init" property must be a function'),z.push(n.init),R(n.init,t)})},z.forEach(function(n){R(n,k)}),k}();"function"==typeof define&&define.amd?define([],function(){return f}):"object"==typeof module&&module.exports?module.exports=f:(f.noConflict=(u=n[D],function(){return n[D]=u,delete f.noConflict,f}),n[D]=f)}(this);
//# sourceMappingURL=xtype.js.map
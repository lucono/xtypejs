/** @license | xtypejs-extension-custom-types v0.1.0 | (c) 2015, Lucas Ononiwu | MIT license, xtype.js.org/license.txt
 */
!function(a,b){"use strict";function c(a){function b(a,b){"object"==typeof a?c(a):d(a,b),l.refresh()}function c(a){"object"==typeof a&&k(a).forEach(function(b){d(b,a[b])})}function d(b,c){if("object"==typeof b)return void registerTypes(b);if("string"==typeof b){var d,e,i,m,n=l.getTypeDefinitions();if(k(n).indexOf(b)>-1)throw'Custom type name "'+b+'" conflicts with existing type name';if(!/^([0-9a-z_]+)$/.test(b))throw"Type name must only contain lowercase alphanumeric characters and underscore";if("object"==typeof c&&null!==c&&"definition"in c?(d=c.definition,i=c.schemeAliases,m=c.matchMode):d=c,"string"==typeof d&&(d=e=h(d,m,b)),"number"==typeof d){if((d&a.ANY)!==d)throw"Custom extended type composite '"+b+"' can only be derived using built-in extended type Ids."}else if("object"==typeof d&&null!==d){if("function"!=typeof d.validator)throw"Custom type '"+b+"' definition is missing the validator function.";e!==d&&(e=j(null),e.validator=d.validator,d=e)}else if("function"!=typeof d)throw"No valid type definition provided for requested custom type '"+b+"'";var o="object"==typeof e?e.identity:"object"==typeof d?d.validator:d,p=g(o);if(p)throw"Custom type '"+b+"' conflicts with other type '"+p+"' with identical definition";if(i){if("object"!=typeof i)throw'Custom type "'+b+'" scheme aliases is not an object';f(b,i)}l.defineType(b,d)}}function f(a,b){k(b).forEach(function(c){var d=l.getNameSchemes(),e=b[c];if(c in d&&"string"==typeof e){var f=d[c];k(f).forEach(function(b){if(e===f[b])throw'Type name alias "'+e+'" for name scheme "'+c+'" for custom type "'+a+'" conflicts with existing name in the specified name scheme'}),f[a]=e}})}function g(a){var b,c,d,e,f=l.getTypeDefinitions(),g=k(f),h=g.length;for(e=0;h>e;e++)if(c=g[e],b=f[c],d="object"==typeof b?b.identity?b.identity:b.validator:b,a===d)return c;return null}function h(b,c,d){var e=b.trim().split(/[ ]*[, ][ ]*/g);if(e.length<2)throw"Type definition string for custom type '"+d+"' must contain two or more type components";c="all"===c?"all":"any";var f=[],g=[],h=[];e.forEach(function(a){var b=l.getTypeDefinitions()[a];if("undefined"==typeof b)throw"Unknown type '"+a+"' in type definition string for custom type '"+d+"'";"number"==typeof b?f.push(b):"function"==typeof b?g.push(b):"object"==typeof b&&h.push(b)});var i,k,m;if(f.length>0&&(i="all"===c?a.ANY:0,f.forEach(function(a){i="all"===c?i&a:i|a})),g.length>0&&(k="all"===c?function(a){for(var b=0,c=g.length;c>b;b++)if(!(a instanceof g[b]))return!1;return!0}:function(a){for(var b=0,c=g.length;c>b;b++)if(a instanceof g[b])return!0;return!1}),h.length>0&&(m="all"===c?function(a){for(var b=0,c=h.length;c>b;b++)if(!h[b].validator(a))return!1;return!0}:function(a){for(var b=0,c=h.length;c>b;b++)if(h[b].validator(a))return!0;return!1}),"undefined"==typeof i&&!k&&!m)throw"Faild to determine valid composite checker for custom type '"+d+"' with type definition string '"+b+"'";if("undefined"!=typeof i&&!k&&!m)return i;var n;if(!k||i||m)n=!m||i||k?function(b){return"all"===c?("undefined"!=typeof i?a.is(b,i):!0)&&(k?k(b):!0)&&(m?m(b):!0):("undefined"!=typeof i?a.is(b,i):!1)||(k?k(b):!1)||(m?m(b):!1)}:m;else{if(1===g.length)return g[0];n=k}var o=j(null);return o.validator=n,o.identity=c+" : "+e.sort().join(" "),o}var i={}.constructor||i,j=i.create,k=i.keys,l=this,m=a[e]||j(null);a[e]=m,m.registerType=b}var d="xtypejsCustomTypesExtension",e="ext",f="0.1.0",g={name:d,version:/\s*{{[^}]*}}\s*/g.test(f)?"unspecified":f,type:"xtypejs",init:c};if("function"==typeof define&&define.amd)define([],function(){return g});else if("object"==typeof module&&module.exports)module.exports=g;else{if(b&&b.ext&&"function"==typeof b.ext.registerExtension)return void b.ext.registerExtension(g);g.noConflict=function(b){return function(){return a[d]=b,delete g.noConflict,g}}(a[d]),a[d]=g}}(this,"undefined"!=typeof xtype?xtype:void 0);
//# sourceMappingURL=xtypejs-extension-custom-types.js.map